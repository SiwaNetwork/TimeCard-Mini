# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ shiwatime –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### 1. –°–µ–∫—Ü–∏—è `timebeat_opentimecard_mini`

**–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```yaml
- protocol: timebeat_opentimecard_mini
  device: '/dev/ttyS0'
  baud: 115200
  card_config: ['gnss1:signal:gps+glonass']
  offset: 225000000
  atomic: false
  monitor_only: false
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):**
- `protocol` - —Ç–∏–ø –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- `device` - –ø—É—Ç—å –∫ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º—É –ø–æ—Ä—Ç—É
- `baud` - —Å–∫–æ—Ä–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞—á–∏
- `card_config` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è GNSS —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏–∏)
- `offset` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–º–µ—â–µ–Ω–∏–µ
- `atomic` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞—Ç–æ–º–Ω—ã—Ö —á–∞—Å–æ–≤
- `monitor_only` - —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–í—ã–≤–æ–¥:** ‚ùå –ù–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞ PPS

---

#### 2. –°–µ–∫—Ü–∏—è `pps` (primary_clocks)

**–¢–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```yaml
- protocol: pps
  interface: eth0
  pin: 0
  index: 0
  cable_delay: 0
  edge_mode: "rising"
  monitor_only: false
  atomic: false
  linked_device: '/dev/ttyS0'
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `protocol` - —Ç–∏–ø –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- `interface` - —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `pin` - –Ω–æ–º–µ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–∞ (SDP)
- `index` - –∏–Ω–¥–µ–∫—Å/–∫–∞–Ω–∞–ª
- `cable_delay` - –∑–∞–¥–µ—Ä–∂–∫–∞ –∫–∞–±–µ–ª—è
- `edge_mode` - —Ä–µ–∂–∏–º —Ç—Ä–∏–≥–≥–µ—Ä–∞ (rising/falling/both)
- `monitor_only` - —Ç–æ–ª—å–∫–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- `atomic` - –∞—Ç–æ–º–Ω—ã–µ —á–∞—Å—ã
- `linked_device` - —Å–≤—è–∑–∞–Ω–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ

**–í—ã–≤–æ–¥:** ‚ùå –≠—Ç–æ —Å–µ–∫—Ü–∏—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PPS –≤—Ö–æ–¥–∞, –∞ –Ω–µ –≤—ã—Ö–æ–¥–∞ –º–æ–¥—É–ª—è Ublox

---

#### 3. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ù–∞–π–¥–µ–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (—Å—Ç—Ä–æ–∫–∞ 73 –≤ shiwatime.yml):**
```yaml
# 1 Pulse-per-second input config example. 1-PPS out can be configured using Timebeat CLI
```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:** PPS –≤—ã—Ö–æ–¥ (timepulse) –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ Timebeat CLI, –Ω–æ **–Ω–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª**.

---

#### 4. –°–µ–∫—Ü–∏—è `advanced.ptp_tuning.pps_config`

**–ù–∞–π–¥–µ–Ω–Ω–∞—è —Å–µ–∫—Ü–∏—è (—Å—Ç—Ä–æ–∫–∞ 372-374 –≤ shiwatime.yml):**
```yaml
# PPS configuration - enables PPS output on startup (augments enable/disable at runtime in CLI)
# Format "<interface>:channel|<pin no>:<index>"
# pps_config: ["ens1:1:0", "ensf2f0:channel:3"]
```

**–í—ã–≤–æ–¥:** ‚ùå –≠—Ç–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PPS –≤—ã—Ö–æ–¥–∞ –Ω–∞ —Å–µ—Ç–µ–≤—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞—Ö (SDP), –∞ –Ω–µ –¥–ª—è –º–æ–¥—É–ª—è Ublox

---

## –ò—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥

### ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ:

1. **–ù–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏–º–ø—É–ª—å—Å–∞ PPS –º–æ–¥—É–ª—è Ublox –≤ —Ñ–∞–π–ª–µ `shiwatime.yml`
2. –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ PPS –≤—ã—Ö–æ–¥ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ **Timebeat CLI**, –Ω–æ –Ω–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
3. –ü–∞—Ä–∞–º–µ—Ç—Ä `card_config` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ GNSS —Å–∏–≥–Ω–∞–ª–æ–≤ (gps, glonass, galileo –∏ —Ç.–¥.), –∞ –Ω–µ –¥–ª—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ timepulse

### üîç –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Timebeat CLI:**
   ```bash
   ssh -p 65129 admin@127.0.0.1
   # –ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã:
   help
   # –ò–ª–∏
   configure
   # –ò–ª–∏
   timepulse
   ```

2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ CLI –∫–æ–º–∞–Ω–¥–∞–º:**
   - –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://support.timebeat.app/hc/en-gb/articles/9168809043346-What-commands-are-available-in-the-Timebeat-CLI
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ CLI: [CLI_CHECK_GUIDE.md](CLI_CHECK_GUIDE.md)
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ timepulse/pulse width

4. **–û–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º** —Å –∑–∞–ø—Ä–æ—Å–æ–º –¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
   ```yaml
   - protocol: timebeat_opentimecard_mini
     device: '/dev/ttyS0'
     baud: 9600
     card_config: ['gnss1:signal:gps+glonass']
     timepulse_pulse_width_ms: 5  # –ù–æ–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
   ```

---

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-01-XX  
**–°—Ç–∞—Ç—É—Å:** –ü–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ

