#!/bin/bash
# Полный анализ функционала программы

echo "================================================================================
ПОЛНЫЙ АНАЛИЗ ФУНКЦИОНАЛА ПРОГРАММЫ
================================================================================
"

# 1. Проверка полноты анализа
echo "1. Проверка полноты анализа..."
python3 check_completeness.py

echo ""
echo "================================================================================
"

# 2. Детальный анализ найденных servo функций
echo "2. Детальный анализ servo функций..."
python3 analyze_found_servo_functions.py

echo ""
echo "================================================================================
"

# 3. Поиск всех clocksync функций
echo "3. Поиск всех clocksync функций..."
nm -D /usr/share/shiwatime/bin/shiwatime | grep -i clocksync | wc -l | xargs echo "Найдено clocksync функций:"

echo ""
echo "================================================================================
АНАЛИЗ ЗАВЕРШЕН
================================================================================
"

echo ""
echo "Результаты сохранены в:"
echo "  - completeness_check.txt"
echo "  - servo_functions_detailed_analysis.txt"
echo ""
