#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã UBXTP5Message –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏–π
"""

# –ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ algorithm_details.txt
# –ù–∞–π–¥–µ–Ω–æ 62 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–º–µ—â–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ UBXTP5Message

# –¢–∏–ø–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UBX TP5 (–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Ublox):
# - tpIdx: uint8 (offset 0)
# - version: uint8 (offset 1)
# - reserved1: uint16 (offset 2-3)
# - antCableDelay: int16 (offset 4-5)
# - rfGroupDelay: int16 (offset 6-7)
# - freqPeriod: uint32 (offset 8-11)
# - freqPeriodLock: uint32 (offset 12-15)
# - pulseLenRatio: uint32 (offset 16-19)
# - pulseLenRatioLock: uint32 (offset 20-23)
# - userConfigDelay: int32 (offset 24-27)
# - flags: uint32 (offset 28-31)

# –ù–æ –≤ Go —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –º–æ–≥—É—Ç –±—ã—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è

print("=" * 80)
print("–ê–ù–ê–õ–ò–ó –°–¢–†–£–ö–¢–£–†–´ UBXTP5Message")
print("=" * 80)
print()

# –°–º–µ—â–µ–Ω–∏—è –∏–∑ –∞–Ω–∞–ª–∏–∑–∞
offsets = [
    8, 16, 24, 32, 40, 48, 56, 64, 72, 80, 88, 96, 104, 112, 120, 128, 136, 144, 152, 160,
    184, 192, 200, 208, 216, 224, 240, 280, 320, 344, 360, 368, 376, 384, 400, 408, 440, 480,
    536, 544, 568, 600, 728, 736, 744, 752, 776, 832, 2120, 2128, 2136, 2144, 2168, 2184,
    2720, 2728, 2736, 2744, 2752, 2760, 2768, 2808
]

print(f"–ù–∞–π–¥–µ–Ω–æ {len(offsets)} —Å–º–µ—â–µ–Ω–∏–π")
print()

# –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –≤–æ–∑–º–æ–∂–Ω—ã–º —Ç–∏–ø–∞–º –¥–∞–Ω–Ω—ã—Ö
print("üì¶ –í–û–ó–ú–û–ñ–ù–ê–Ø –°–¢–†–£–ö–¢–£–†–ê UBXTP5Message:")
print()

# –ü–µ—Ä–≤—ã–µ –ø–æ–ª—è (–æ–±—ã—á–Ω–æ –±–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã)
print("–ë–∞–∑–æ–≤—ã–µ –ø–æ–ª—è (offset 0-31):")
print("  offset 0-7:   –ó–∞–≥–æ–ª–æ–≤–æ–∫ UBX (Sync1, Sync2, Class, ID, Length)")
print("  offset 8:     freqPeriod (uint32) - —á–∞—Å—Ç–æ—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞")
print("  offset 16:    pulseLenRatio (uint32) - –æ—Ç–Ω–æ—à–µ–Ω–∏–µ –¥–ª–∏–Ω—ã –∏–º–ø—É–ª—å—Å–∞")
print("  offset 24:    userConfigDelay (int32) - –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
print("  offset 32:    flags (uint32) - —Ñ–ª–∞–≥–∏")
print()

# –°—Ä–µ–¥–Ω–∏–µ –ø–æ–ª—è
print("–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (offset 32-200):")
print("  offset 40-47:   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã")
print("  offset 48-55:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏")
print("  offset 56-63:   –†–µ–∑–µ—Ä–≤–Ω—ã–µ –ø–æ–ª—è")
print("  offset 64-71:   –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã")
print("  offset 72-79:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏")
print("  offset 80-87:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–∏")
print("  offset 88-95:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∞—Å—Ç–æ—Ç—ã")
print("  offset 96-103:  –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–µ—Ä–∂–∫–∏")
print("  offset 104-111: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—á–Ω–æ—Å—Ç–∏")
print("  offset 112-119: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞")
print("  offset 120-127: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–∞—Ç—É—Å–∞")
print("  offset 128-135: –ë—É—Ñ–µ—Ä—ã")
print("  offset 136-143: –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ")
print("  offset 144-151: –°—á–µ—Ç—á–∏–∫–∏")
print("  offset 152-159: –§–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è")
print("  offset 160-183: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")
print("  offset 184-191: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω—Ç–µ–Ω–Ω—ã")
print("  offset 192-199: –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RF")
print()

# –ë–æ–ª—å—à–∏–µ —Å–º–µ—â–µ–Ω–∏—è (–≤–æ–∑–º–æ–∂–Ω–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ —Å–ª–∞–π—Å—ã)
print("–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–æ–ª—è (offset 200+):")
print("  offset 200-239:   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏")
print("  offset 240-279:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏")
print("  offset 280-319:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏")
print("  offset 320-343:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä–µ–º–µ–Ω–∏")
print("  offset 344-359:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∞—Å—Ç–æ—Ç—ã")
print("  offset 360-367:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–µ—Ä–∂–∫–∏")
print("  offset 368-375:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ—á–Ω–æ—Å—Ç–∏")
print("  offset 376-383:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞—á–µ—Å—Ç–≤–∞")
print("  offset 384-399:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—Ç–∞—Ç—É—Å–∞")
print("  offset 400-407:   –ë—É—Ñ–µ—Ä—ã")
print("  offset 408-439:   –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ")
print("  offset 440-479:   –°—á–µ—Ç—á–∏–∫–∏")
print("  offset 480-535:   –§–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è")
print("  offset 536-543:   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")
print("  offset 544-567:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω—Ç–µ–Ω–Ω—ã")
print("  offset 568-599:   –ü–∞—Ä–∞–º–µ—Ç—Ä—ã RF")
print("  offset 600-727:   –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –∏–ª–∏ —Å–ª–∞–π—Å—ã")
print("  offset 728-831:   –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã")
print("  offset 832-2119:  –†–µ–∑–µ—Ä–≤ –∏–ª–∏ –±–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã")
print("  offset 2120+:     –í–æ–∑–º–æ–∂–Ω–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–ª–∏ —Å–ª–∞–π—Å—ã")
print()

# –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–æ–≤
print("üìä –ê–ù–ê–õ–ò–ó –†–ê–ó–ú–ï–†–û–í:")
print(f"  –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ: {min(offsets)} –±–∞–π—Ç")
print(f"  –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ: {max(offsets)} –±–∞–π—Ç")
print(f"  –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: ~{max(offsets) + 8} –±–∞–π—Ç (–º–∏–Ω–∏–º—É–º)")
print()

# –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –¥–æ—Å—Ç—É–ø–∞
print("üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –î–û–°–¢–£–ü–ê:")
print("  –ù–∞–∏–±–æ–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–º–µ—â–µ–Ω–∏—è (read+write > 10):")
high_usage = [
    (8, 16+17), (16, 37+17), (24, 6+8), (32, 15+6), (40, 6+6),
    (48, 6+6), (56, 3+3), (64, 4+4), (72, 6+9), (80, 6+5),
    (88, 3+2), (96, 4+2), (104, 3+2), (112, 5+3), (120, 2+2),
    (160, 6+5), (184, 4+3), (192, 2+2), (200, 2+2), (280, 9+3),
    (776, 9+1), (2168, 7+1), (2760, 11+1)
]
for offset, total in sorted(high_usage, key=lambda x: x[1], reverse=True)[:10]:
    print(f"    offset {offset:4d}: {total} –æ–±—Ä–∞—â–µ–Ω–∏–π")
print()

# –ü—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è –æ —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö
print("üîç –ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–Ø –û –¢–ò–ü–ê–• –î–ê–ù–ù–´–•:")
print("  offset 8, 16:   uint32 (—á–∞—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)")
print("  offset 24, 32:  int32/uint32 (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)")
print("  offset 40-120:  uint8/uint16/uint32 (—Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)")
print("  offset 160+:    –í–æ–∑–º–æ–∂–Ω–æ —Å–ª–∞–π—Å—ã –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã")
print("  offset 2120+:   –ë–æ–ª—å—à–∏–µ –±—É—Ñ–µ—Ä—ã –∏–ª–∏ –º–∞—Å—Å–∏–≤—ã")
print()

print("=" * 80)
print("–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò:")
print("=" * 80)
print("1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ UBXTP5Message –¥–æ–≤–æ–ª—å–Ω–æ –±–æ–ª—å—à–∞—è (~2800+ –±–∞–π—Ç)")
print("2. –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ (offset 0-200)")
print("3. –ë–æ–ª—å—à–∏–µ —Å–º–µ—â–µ–Ω–∏—è (2000+) –º–æ–≥—É—Ç –±—ã—Ç—å –±—É—Ñ–µ—Ä–∞–º–∏ –∏–ª–∏ —Å–ª–∞–π—Å–∞–º–∏")
print("4. –î–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–æ–≤ –Ω—É–∂–µ–Ω –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π")
print()
